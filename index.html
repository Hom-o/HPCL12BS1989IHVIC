<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Plants Failure & Risk Assessment</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&family=Source+Serif+Pro:wght@400;600&display=swap');
        
        :root {
            --primary-color: #222;
            --secondary-color: #444;
            --background-color: #fff;
            --border-color: #ddd;
            --highlight-color: #2c3e50;
            --accent-color: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Source Serif Pro', serif;
            color: var(--primary-color);
            background-color: var(--background-color);
            line-height: 1.7;
            font-weight: 300;
            font-size: 10.5pt;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
            counter-reset: section;
        }
        
        .container {
            padding: 40px;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.05);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 18pt;
            margin-bottom: 10px;
            letter-spacing: 0.5px;
            color: var(--highlight-color);
        }
        
        .subtitle {
            font-family: 'Roboto', sans-serif;
            font-size: 12pt;
            color: var(--secondary-color);
            margin-bottom: 25px;
            font-weight: 400;
        }
        
        .author {
            font-family: 'Roboto', sans-serif;
            font-size: 11pt;
            margin-bottom: 5px;
        }
        
        .affiliation {
            font-family: 'Roboto', sans-serif;
            font-size: 10pt;
            color: #666;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .date-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 800px;
        }
        
        .date {
            font-family: 'Roboto', sans-serif;
            font-size: 10pt;
            color: #777;
        }
        
        .know-more-button {
            font-family: 'Roboto', sans-serif;
            font-size: 10pt;
            color: #fff;
            background-color: #777;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .know-more-button:hover {
            background-color: #555;
        }
        
        h2 {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 13pt;
            margin: 40px 0 20px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
            counter-increment: section;
            position: relative;
            color: var(--highlight-color);
        }
        
        h2::before {
            content: counter(section) ". ";
            color: var(--secondary-color);
        }
        
        h3 {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 11.5pt;
            margin: 30px 0 15px;
            color: var(--secondary-color);
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
            text-justify: inter-word;
        }
        
        .abstract {
            background: #f9f9f9;
            padding: 20px;
            border-left: 3px solid var(--border-color);
            margin-bottom: 30px;
            font-style: italic;
            border-radius: 4px;
        }
        
        .abstract p:last-child {
            margin-bottom: 0;
        }
        
        a {
            color: var(--secondary-color);
            text-decoration: none;
            border-bottom: 1px dotted #999;
            transition: all 0.2s ease;
        }
        
        a:hover {
            color: var(--highlight-color);
            border-bottom: 1px solid var(--highlight-color);
        }
        
        ul, ol {
            padding-left: 25px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .figure {
            text-align: center;
            margin: 30px 0;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: #fafafa;
        }
        
        .figure-content {
            width: 100%;
            height: 300px;
            margin: 0 auto;
        }
        
        .caption {
            font-size: 9.5pt;
            color: #666;
            font-style: italic;
            margin-top: 15px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .result-card {
            border: 1px solid var(--border-color);
            padding: 20px;
            background: #fafafa;
            border-radius: 4px;
        }
        
        .result-card h4 {
            font-size: 11pt;
            margin-bottom: 10px;
            color: #333;
            font-family: 'Roboto', sans-serif;
        }
        
        .links {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .link-item {
            font-size: 9.5pt;
            background: #f5f5f5;
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .link-item a {
            border-bottom: none;
        }
        
        .simulation-app {
            border: 1px solid var(--border-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .app-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .app-icon {
            width: 50px;
            height: 50px;
            background: var(--highlight-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }
        
        .app-content {
            border: 1px solid var(--border-color);
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--secondary-color);
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid var(--border-color);
            margin-bottom: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #f0f5ff;
            border-color: #a0b3e0;
        }
        
        .option input {
            margin-right: 10px;
        }
        
        .warning {
            background: #fff8e6;
            padding: 15px;
            border-radius: 4px;
            margin-top: 15px;
            border-left: 3px solid #ffc107;
        }
        
        .run-button {
            background: var(--highlight-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            font-size: 11pt;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 15px;
        }
        
        .run-button:hover {
            background: #1a2a3f;
        }
        
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            font-size: 9pt;
            color: #777;
            text-align: center;
        }
        
        .power-plant-selector {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: #f9f9f9;
        }
        
        .power-plant-selector label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--secondary-color);
            font-family: 'Roboto', sans-serif;
        }
        
        .power-plant-selector select {
            width: 100%;
            padding: 10px;
            font-size: 10.5pt;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: white;
            font-family: 'Source Serif Pro', serif;
            color: var(--primary-color);
        }
        
        .power-plant-selector select:focus {
            outline: none;
            border-color: var(--highlight-color);
            box-shadow: 0 0 5px rgba(44, 62, 80, 0.2);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }
            
            h1 {
                font-size: 16pt;
            }
            
            .subtitle {
                font-size: 11pt;
            }
            
            .figure-content {
                height: 250px;
            }
            
            .date-container {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .know-more-button {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Power Plants Failure & Risk Assessment</h1>
            <div class="subtitle">Our team of experienced engineers drives profitability in the energy sector through advanced risk assessment and automation</div>
            <div class="author">Raja Ram M, M Eng. | Asst. Vice President, Power Plant Risk Assessment & Automations</div>
            <div class="affiliation">Hom-o Inc, Energy Systems Research Division</div>
            <div class="date-container">
                <div class="date">July 4, 2025</div>
                <a href="https://borelsigmainc.github.io/HPCL12BS1989IHVIC/" class="know-more-button">Know More About Our Work</a>
            </div>
        </div>
        
        <div class="abstract">
            <h3>Abstract</h3>
            <p>This webpage presents a framework for assessing risks associated with power plant failures across various energy sectors, including nuclear, coal, gas, hydro, and renewable sources. By simulating critical failure scenarios, the framework identifies vulnerabilities and informs safety protocols. Interactive tools allow users to explore failure impacts, with visualizations demonstrating key risk metrics. Validated against industry benchmarks, the approach supports risk management and safety compliance for power generation facilities.</p>
        </div>
        
        <h2>Introduction</h2>
        <p>Power plants, regardless of their energy source, face risks from equipment failures, human errors, and external factors. Understanding these risks is crucial for ensuring operational safety and reliability. This webpage introduces a risk assessment framework that models failure scenarios across different power plant types, providing insights into mitigation strategies and safety enhancements.</p>
        
        <h2>Risk Assessment Framework</h2>
        
        <h3>Simulation Approach</h3>
        <p>The framework uses computational models to simulate failure scenarios specific to each power plant type. Users can select a sector to explore tailored failure modes and their impacts on performance metrics like power output and system stability.</p>
        
        <div class="power-plant-selector">
            <label for="powerPlant">Select Power Plant Sector:</label>
            <select id="powerPlant" name="powerPlant">
                <option value="nuclear">Nuclear Power</option>
                <option value="coal">Coal Power</option>
                <option value="gas">Natural Gas Power</option>
                <option value="hydro">Hydropower</option>
                <option value="wind">Wind Power</option>
                <option value="solar">Solar Power</option>
                <option value="biomass">Biomass Power</option>
                <option value="geothermal">Geothermal Power</option>
                <option value="tidal">Tidal Power</option>
                <option value="oil">Oil Power</option>
            </select>
        </div>
        
        <p>Key simulation modules include:</p>
        <ul id="simulation-modules">
            <li><strong>System Dynamics Module:</strong> Models core operational processes for each power plant type.</li>
            <li><strong>Failure Analysis Module:</strong> Simulates specific failure scenarios and their impacts.</li>
            <li><strong>Safety Systems Module:</strong> Evaluates mitigation strategies and response protocols.</li>
        </ul>
        
        <h3>Failure Scenarios</h3>
        <p>Examples of modeled failure modes include:</p>
        <ul>
            <li><strong>Nuclear:</strong> Cooling system blackout, reactivity insertion.</li>
            <li><strong>Coal:</strong> Fuel supply disruption, boiler overpressure.</li>
            <li><strong>Hydro:</strong> Gate failure, turbine cavitation.</li>
        </ul>
        
        <h2>Results and Insights</h2>
        
        <div class="figure">
            <div class="figure-content">
                <canvas id="simulationChart"></canvas>
            </div>
            <div class="caption" id="chart-caption">Figure 1: Simulation results showing key metrics during a failure scenario. Select a sector to view specific data.</div>
        </div>
        
        <div class="simulation-app">
            <div class="app-header">
                <div class="app-icon" id="app-icon">‚öõÔ∏è</div>
                <div>
                    <h3 id="simulator-title">Power Plant Risk Simulator</h3>
                    <p id="simulator-description">Explore failure scenarios across power plant sectors.</p>
                </div>
            </div>
            
            <div class="app-content">
                <div class="option-group">
                    <div class="option-label">Choose failure type:</div>
                    <div id="failure-options">
                        <div class="option">
                            <input type="radio" id="failure1" name="failureType" value="coolingFailure" checked>
                            <label for="failure1">Cooling System Blackout</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="failure2" name="failureType" value="reactorIgnition">
                            <label for="failure2">Reactor Ignition</label>
                        </div>
                    </div>
                </div>
                
                <div class="warning" id="warning-message">
                    <strong>COOLING FAILURE:</strong> Cooling capacity will drop at 10 seconds
                </div>
                
                <a href="https://hpcl12bs1989ih-xmyrznomrsxz7mgxxkqd5g.streamlit.app/" target="_blank">
                    <button class="run-button">Run Live Simulation</button>
                </a>
            </div>
        </div>
        
        <div class="results-grid">
            <div class="result-card">
                <h4>Failure Impact Analysis</h4>
                <p>Simulations identify critical time windows for intervention, reducing the risk of catastrophic failures across power plant types.</p>
            </div>
            <div class="result-card">
                <h4>Risk Mitigation</h4>
                <p>Automated safety systems can mitigate up to 80% of failure scenarios when activated within critical timeframes.</p>
            </div>
        </div>
        
        <h2>Conclusion</h2>
        <p>This risk assessment framework provides a versatile tool for understanding and mitigating power plant failures. By simulating diverse scenarios, it supports safer and more reliable energy production. Future enhancements will expand data coverage for all sectors and integrate real-time monitoring capabilities.</p>
        
        <div class="links">
            <div class="link-item">
                <strong>Live Simulation:</strong> 
                <a href="https://hpcl12bs1989ih-xmyrznomrsxz7mgxxkqd5g.streamlit.app/" target="_blank">Streamlit App</a>
            </div>
            <div class="link-item">
                <strong>Source Code:</strong> 
                <a href="https://github.com/orgs/Hom-o/repositories" target="_blank">GitHub Repository</a>
            </div>
            <div class="link-item">
                <strong>Contact:</strong> 
                <a href="mailto:rajaram@borelsigma.in">rajaram@borelsigma.in</a>
            </div>
        </div>
        
        <footer>
            <p>Power Plant Risk Assessment Project</p>
            <p>¬© 2025 Hom-o Inc. Energy Systems Research Division | All Rights Reserved</p>
        </footer>
    </div>
    
    <script>
        // Initialize chart variable
        let simulationChart = null;
        
        // Time array (0 to 20 seconds)
        const times = [];
        for (let i = 0; i <= 20; i += 0.5) {
            times.push(i);
        }
        
        // Sector-specific simulator configurations
        const simulatorConfigs = {
            nuclear: {
                title: 'Nuclear Power Plant Simulator',
                description: 'Test cooling failures and reactor ignition scenarios',
                icon: '‚öõÔ∏è',
                failures: [
                    { id: 'coolingFailure', label: 'Cooling System Blackout', warning: '<strong>COOLING FAILURE:</strong> Cooling capacity will drop at 10 seconds' },
                    { id: 'reactorIgnition', label: 'Reactor Ignition', warning: '<strong>REACTOR IGNITION:</strong> Reactivity will increase at 5 seconds' }
                ]
            },
            coal: {
                title: 'Coal Power Plant Simulator',
                description: 'Test fuel supply disruptions and boiler overpressure scenarios',
                icon: 'üî•',
                failures: [
                    { id: 'fuelSupplyDisruption', label: 'Fuel Supply Disruption', warning: '<strong>FUEL SUPPLY DISRUPTION:</strong> Fuel supply will drop at 12 seconds' },
                    { id: 'boilerOverpressure', label: 'Boiler Overpressure', warning: '<strong>BOILER OVERPRESSURE:</strong> Pressure will spike at 10 seconds' }
                ]
            },
            gas: {
                title: 'Natural Gas Power Plant Simulator',
                description: 'Test gas flow disruptions and combustor overheat scenarios',
                icon: 'üî•',
                failures: [
                    { id: 'gasFlowDisruption', label: 'Gas Flow Disruption', warning: '<strong>GAS FLOW DISRUPTION:</strong> Gas supply will reduce at 10 seconds' },
                    { id: 'combustorOverheat', label: 'Combustor Overheat', warning: '<strong>COMBUSTOR OVERHEAT:</strong> Temperature will spike at 8 seconds' }
                ]
            },
            hydro: {
                title: 'Hydropower Plant Simulator',
                description: 'Test gate failures and turbine cavitation scenarios',
                icon: 'üíß',
                failures: [
                    { id: 'gateFailure', label: 'Gate Failure', warning: '<strong>GATE FAILURE:</strong> Water flow will reduce at 11 seconds' },
                    { id: 'turbineCavitation', label: 'Turbine Cavitation', warning: '<strong>TURBINE CAVITATION:</strong> Cavitation will occur at 9 seconds' }
                ]
            },
            wind: {
                title: 'Wind Power Plant Simulator',
                description: 'Test wind gust and blade pitch failure scenarios',
                icon: 'üå¨Ô∏è',
                failures: [
                    { id: 'windGust', label: 'Wind Gust', warning: '<strong>WIND GUST:</strong> Wind speed will spike at 9 seconds' },
                    { id: 'bladePitchFailure', label: 'Blade Pitch Failure', warning: '<strong>BLADE PITCH FAILURE:</strong> Pitch control will fail at 10 seconds' }
                ]
            },
            solar: {
                title: 'Solar Power Plant Simulator',
                description: 'Test cloud cover and inverter failure scenarios',
                icon: '‚òÄÔ∏è',
                failures: [
                    { id: 'cloudCover', label: 'Cloud Cover', warning: '<strong>CLOUD COVER:</strong> Solar irradiance will drop at 8 seconds' },
                    { id: 'inverterFailure', label: 'Inverter Failure', warning: '<strong>INVERTER FAILURE:</strong> Inverter will malfunction at 7 seconds' }
                ]
            },
            biomass: {
                title: 'Biomass Power Plant Simulator',
                description: 'Test fuel feed failures and combustor clogging scenarios',
                icon: 'üå±',
                failures: [
                    { id: 'fuelFeedFailure', label: 'Fuel Feed Failure', warning: '<strong>FUEL FEED FAILURE:</strong> Fuel supply will stop at 12 seconds' },
                    { id: 'combustorClogging', label: 'Combustor Clogging', warning: '<strong>COMBUSTOR CLOGGING:</strong> Clogging will occur at 10 seconds' }
                ]
            },
            geothermal: {
                title: 'Geothermal Power Plant Simulator',
                description: 'Test pump failures and steam pressure drop scenarios',
                icon: 'üåã',
                failures: [
                    { id: 'pumpFailure', label: 'Pump Failure', warning: '<strong>PUMP FAILURE:</strong> Fluid flow will reduce at 10 seconds' },
                    { id: 'steamPressureDrop', label: 'Steam Pressure Drop', warning: '<strong>STEAM PRESSURE DROP:</strong> Pressure will drop at 11 seconds' }
                ]
            },
            tidal: {
                title: 'Tidal Power Plant Simulator',
                description: 'Test turbine jams and tidal flow reduction scenarios',
                icon: 'üåä',
                failures: [
                    { id: 'turbineJam', label: 'Turbine Jam', warning: '<strong>TURBINE JAM:</strong> Turbine will jam at 11 seconds' },
                    { id: 'tidalFlowReduction', label: 'Tidal Flow Reduction', warning: '<strong>TIDAL FLOW REDUCTION:</strong> Flow will reduce at 10 seconds' }
                ]
            },
            oil: {
                title: 'Oil Power Plant Simulator',
                description: 'Test fuel supply failures and burner clogging scenarios',
                icon: 'üõ¢Ô∏è',
                failures: [
                    { id: 'fuelSupplyFailure', label: 'Fuel Supply Failure', warning: '<strong>FUEL SUPPLY FAILURE:</strong> Fuel supply will stop at 12 seconds' },
                    { id: 'burnerClogging', label: 'Burner Clogging', warning: '<strong>BURNER CLOGGING:</strong> Burner will clog at 10 seconds' }
                ]
            }
        };

        // Sector-specific chart configurations
        const chartConfigs = {
            nuclear: {
                datasets: [
                    {
                        label: 'Reactor Power',
                        data: generateNuclearPowerData(),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'Core Temperature',
                        data: generateNuclearTempData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    }
                ],
                annotation: {
                    failureLine: {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x',
                        value: 10,
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            display: true,
                            content: 'Cooling Failure',
                            position: 'top',
                            backgroundColor: 'rgba(44, 62, 80, 0.8)',
                            color: '#fff',
                            font: { size: 10 }
                        }
                    }
                },
                caption: 'Figure 1: Simulation results showing reactor power and core temperature during cooling system failure scenario. At t=10s, cooling capacity drops, causing temperature to rise exponentially.'
            },
            coal: {
                datasets: [
                    {
                        label: 'Turbine Output',
                        data: generateCoalPowerData(),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'Boiler Temperature',
                        data: generateCoalTempData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    }
                ],
                annotation: {
                    failureLine: {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x',
                        value: 12,
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            display: true,
                            content: 'Fuel Supply Disruption',
                            position: 'top',
                            backgroundColor: 'rgba(44, 62, 80, 0.8)',
                            color: '#fff',
                            font: { size: 10 }
                        }
                    }
                },
                caption: 'Figure 1: Simulation results showing turbine output and boiler temperature during fuel supply disruption. At t=12s, fuel supply is interrupted, causing temperature to rise and output to drop.'
            },
            gas: {
                datasets: [
                    {
                        label: 'Turbine Output',
                        data: generateGasPowerData(),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'Combustor Temperature',
                        data: generateGasTempData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    }
                ],
                annotation: {
                    failureLine: {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x',
                        value: 10,
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            display: true,
                            content: 'Gas Flow Disruption',
                            position: 'top',
                            backgroundColor: 'rgba(44, 62, 80, 0.8)',
                            color: '#fff',
                            font: { size: 10 }
                        }
                    }
                },
                caption: 'Figure 1: Simulation results showing turbine output and combustor temperature during gas flow disruption. At t=10s, gas supply is reduced, causing temperature spikes and output reduction.'
            },
            hydro: {
                datasets: [
                    {
                        label: 'Turbine Output',
                        data: generateHydroPowerData(),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'Water Flow Rate',
                        data: generateHydroFlowData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    }
                ],
                annotation: {
                    failureLine: {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x',
                        value: 11,
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            display: true,
                            content: 'Gate Failure',
                            position: 'top',
                            backgroundColor: 'rgba(44, 62, 80, 0.8)',
                            color: '#fff',
                            font: { size: 10 }
                        }
                    }
                },
                caption: 'Figure 1: Simulation results showing turbine output and water flow rate during gate failure. At t=11s, gate malfunction reduces flow, impacting output.'
            },
            wind: {
                datasets: [
                    {
                        label: 'Power Output',
                        data: generateWindPowerData(),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    },
                    {
                        label: 'Wind Speed',
                        data: generateWindSpeedData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: false
                    }
                ],
                annotation: {
                    failureLine: {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x',
                        value: 9,
                        borderColor: '#2c3e50',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            display: true,
                            content: 'Wind Gust',
                            position: 'top',
                            backgroundColor: 'rgba(44, 62, 80, 0.8)',
                            color: '#fff',
                            font: { size: 10 }
                        }
                    }
                },
                caption: 'Figure 1: Simulation results showing power output and wind speed during a wind gust. At t=9s, a sudden gust causes output fluctuations.'
            }
        };

        // Data generation functions
        function generateNuclearPowerData() {
            const power = [];
            for (let t of times) {
                if (t < 10) power.push(1);
                else {
                    const decay = Math.exp(-0.1 * (t - 10));
                    const feedback = 1.3 * (1 - Math.exp(-0.3 * (t - 10)));
                    power.push(0.85 * decay + 0.15 * feedback);
                }
            }
            return power;
        }

        function generateNuclearTempData() {
            const temp = [];
            for (let t of times) {
                if (t < 10) temp.push(0);
                else temp.push(15 * (1 - Math.exp(-0.15 * (t - 10))));
            }
            return temp;
        }

        function generateCoalPowerData() {
            const power = [];
            for (let t of times) {
                if (t < 12) power.push(1);
                else {
                    const decay = Math.exp(-0.2 * (t - 12));
                    power.push(decay);
                }
            }
            return power;
        }

        function generateCoalTempData() {
            const temp = [];
            for (let t of times) {
                if (t < 12) temp.push(0);
                else temp.push(10 * (1 - Math.exp(-0.1 * (t - 12))));
            }
            return temp;
        }

        function generateGasPowerData() {
            const power = [];
            for (let t of times) {
                if (t < 10) power.push(1);
                else {
                    const decay = Math.exp(-0.15 * (t - 10));
                    power.push(0.9 * decay);
                }
            }
            return power;
        }

        function generateGasTempData() {
            const temp = [];
            for (let t of times) {
                if (t < 10) temp.push(0);
                else temp.push(12 * (1 - Math.exp(-0.12 * (t - 10))));
            }
            return temp;
        }

        function generateHydroPowerData() {
            const power = [];
            for (let t of times) {
                if (t < 11) power.push(1);
                else {
                    const decay = Math.exp(-0.1 * (t - 11));
                    power.push(0.8 * decay);
                }
            }
            return power;
        }

        function generateHydroFlowData() {
            const flow = [];
            for (let t of times) {
                if (t < 11) flow.push(1);
                else flow.push(0.5 * Math.exp(-0.05 * (t - 11)));
            }
            return flow;
        }

        function generateWindPowerData() {
            const power = [];
            for (let t of times) {
                if (t < 9) power.push(1);
                else {
                    const spike = 1.5 * Math.exp(-0.2 * (t - 9));
                    power.push(1 + spike);
                }
            }
            return power;
        }

        function generateWindSpeedData() {
            const speed = [];
            for (let t of times) {
                if (t < 9) speed.push(1);
                else speed.push(1.3 * (1 + Math.sin(0.5 * (t - 9))));
            }
            return speed;
        }

        // Module descriptions
        const moduleDescriptions = {
            nuclear: `
                <li><strong>System Dynamics Module:</strong> Models reactor core behavior using computational methods.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates cooling and reactivity failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates emergency response protocols.</li>
            `,
            coal: `
                <li><strong>System Dynamics Module:</strong> Models combustion and boiler processes.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates fuel supply and pressure failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates emission and safety controls.</li>
            `,
            gas: `
                <li><strong>System Dynamics Module:</strong> Models turbine and combustion dynamics.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates gas flow and overheat scenarios.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates turbine safety protocols.</li>
            `,
            hydro: `
                <li><strong>System Dynamics Module:</strong> Models water flow and turbine dynamics.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates gate and cavitation failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates flow regulation protocols.</li>
            `,
            wind: `
                <li><strong>System Dynamics Module:</strong> Models blade and generator dynamics.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates wind gust and pitch failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates control system responses.</li>
            `,
            solar: `
                <li><strong>System Dynamics Module:</strong> Models photovoltaic performance.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates irradiance and inverter failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates grid integration protocols.</li>
            `,
            biomass: `
                <li><strong>System Dynamics Module:</strong> Models biomass combustion processes.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates fuel feed and clogging failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates emission control protocols.</li>
            `,
            geothermal: `
                <li><strong>System Dynamics Module:</strong> Models fluid flow and heat extraction.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates pump and pressure failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates operational safety protocols.</li>
            `,
            tidal: `
                <li><strong>System Dynamics Module:</strong> Models tidal flow and turbine dynamics.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates turbine jams and flow reductions.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates tidal cycle controls.</li>
            `,
            oil: `
                <li><strong>System Dynamics Module:</strong> Models oil combustion processes.</li>
                <li><strong>Failure Analysis Module:</strong> Simulates fuel supply and burner failures.</li>
                <li><strong>Safety Systems Module:</strong> Evaluates safety shutdown protocols.</li>
            `
        };

        // Update simulation modules
        function updateSimulationModules() {
            const selectedPlant = powerPlantSelect.value;
            document.getElementById('simulation-modules').innerHTML = moduleDescriptions[selectedPlant];
        }

        // Update simulator section
        function updateSimulator(sector) {
            const config = simulatorConfigs[sector];
            document.getElementById('app-icon').textContent = config.icon;
            document.getElementById('simulator-title').textContent = config.title;
            document.getElementById('simulator-description').textContent = config.description;
            const failureOptions = document.getElementById('failure-options');
            failureOptions.innerHTML = `
                <div class="option">
                    <input type="radio" id="failure1" name="failureType" value="${config.failures[0].id}" checked>
                    <label for="failure1">${config.failures[0].label}</label>
                </div>
                <div class="option">
                    <input type="radio" id="failure2" name="failureType" value="${config.failures[1].id}">
                    <label for="failure2">${config.failures[1].label}</label>
                </div>
            `;
            document.getElementById('warning-message').innerHTML = config.failures[0].warning;

            document.querySelectorAll('.option input').forEach(input => {
                input.addEventListener('change', () => {
                    const selectedFailure = document.querySelector('input[name="failureType"]:checked').value;
                    document.getElementById('warning-message').innerHTML = config.failures.find(f => f.id === selectedFailure).warning;
                });
            });
        }

        // Update chart
        function updateChart(sector) {
            const ctx = document.getElementById('simulationChart').getContext('2d');
            const topSectors = ['nuclear', 'coal', 'gas', 'hydro', 'wind'];

            if (simulationChart) {
                simulationChart.destroy();
            }

            if (topSectors.includes(sector)) {
                const config = chartConfigs[sector];
                simulationChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: times,
                        datasets: config.datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Time (seconds)',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(0, 0, 0, 0.05)' }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Normalized Value',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                suggestedMin: 0,
                                suggestedMax: sector === 'wind' ? 3 : 20
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: { font: { size: 12 } }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false
                            },
                            annotation: {
                                annotations: config.annotation
                            }
                        }
                    }
                });
                document.getElementById('chart-caption').textContent = config.caption;
            } else {
                simulationChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: times,
                        datasets: []
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Time (seconds)',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(0, 0, 0, 0.05)' }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Normalized Value',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(0, 0, 0, 0.05)' },
                                suggestedMin: 0,
                                suggestedMax: 20
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            annotation: {
                                annotations: {
                                    noData: {
                                        type: 'label',
                                        xValue: 10,
                                        yValue: 10,
                                        content: ['Chart data not available for this sector'],
                                        color: '#666',
                                        font: { size: 12 },
                                        backgroundColor: 'rgba(255, 255, 255, 0.8)',
                                        position: 'center'
                                    }
                                }
                            }
                        }
                    }
                });
                document.getElementById('chart-caption').textContent = 'Figure 1: Chart data not available for this sector. Please select a top sector (Nuclear, Coal, Gas, Hydro, or Wind).';
            }
        }

        // Update all dynamic elements
        function updateAll() {
            const selectedPlant = powerPlantSelect.value;
            updateSimulationModules();
            updateSimulator(selectedPlant);
            updateChart(selectedPlant);
        }

        // Initialize elements
        const powerPlantSelect = document.getElementById('powerPlant');
        const simulationModules = document.getElementById('simulation-modules');

        // Initialize with default selection
        updateAll();

        // Update all when power plant sector changes
        powerPlantSelect.addEventListener('change', updateAll);
    </script>
</body>
</html>
